# 内嵌WebView功能使用说明

## 🎯 功能概述

现在工具不再在外部浏览器中打开，而是在应用内部的WebView中显示，提供更好的用户体验。

## ✨ 新增功能

### 1. 内嵌WebView显示
- 工具在应用内部的模态框中打开
- 支持全屏和窗口模式切换
- 保持应用的统一体验

### 2. 工具栏功能
- **刷新按钮**: 重新加载当前工具
- **全屏切换**: 在全屏和窗口模式间切换
- **关闭按钮**: 点击对话框外部或按ESC键关闭

### 3. 智能错误处理
- 自动检测工具是否支持内嵌显示
- 提供友好的错误提示
- 一键切换到外部浏览器

### 4. 键盘快捷键
- **ESC**: 关闭WebView（全屏模式下先退出全屏再关闭）
- **F5**: 刷新当前工具

### 5. 状态指示
- 加载状态显示
- 工具信息展示（名称、分类、描述）
- 实时状态反馈

## 🔧 技术实现

### 核心组件
- `WebViewModal`: 主要的WebView模态框组件
- `tool-grid.tsx`: 集成WebView的工具网格

### 安全特性
- iframe沙箱模式
- 安全的referrer策略
- 受控的权限管理

### 响应式设计
- 自适应不同屏幕尺寸
- 全屏模式支持
- 移动端友好

## 🚀 使用方法

1. **打开工具**: 点击任意工具的"打开工具"按钮
2. **全屏查看**: 点击工具栏的全屏按钮
3. **刷新工具**: 点击刷新按钮或按F5键
4. **关闭工具**: 点击对话框外部、按ESC键或点击右上角X按钮
   - 全屏模式下按ESC会先退出全屏，然后关闭弹窗

## 📝 注意事项

### 兼容性
- 某些网站可能不支持iframe嵌入（如银行网站）
- 遇到此类情况会自动提示使用外部浏览器

### 性能优化
- 每次只加载一个工具，避免内存占用过高
- 关闭WebView时自动释放资源

### 安全考虑
- 使用沙箱模式限制iframe权限
- 防止恶意脚本执行
- 安全的跨域处理

## 🔄 后续优化计划

1. **多标签支持**: 同时打开多个工具
2. **历史记录**: 记录最近使用的工具
3. **书签功能**: 收藏常用工具页面
4. **离线缓存**: 支持部分工具的离线使用
5. **自定义主题**: 适配工具的显示主题

---

现在您可以在应用内直接使用所有工具，无需切换到外部浏览器，享受更流畅的工作体验！
